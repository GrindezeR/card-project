(this["webpackJsonpcommand-project"]=this["webpackJsonpcommand-project"]||[]).push([[0],{11:function(e,r,t){e.exports={passRecoverSection:"PassRecover_passRecoverSection__168Bv",passRecoverArticle:"PassRecover_passRecoverArticle__3YNSB",passRecoverLegend:"PassRecover_passRecoverLegend__Sfpmm",passRecoverForm:"PassRecover_passRecoverForm__3hl_5",email:"PassRecover_email__3tqzh",sendInstructions:"PassRecover_sendInstructions__1jQst",error:"PassRecover_error__3V4V4"}},12:function(e,r,t){e.exports={profile:"Profile_profile__2MA_a",profileSection:"Profile_profileSection__2JDVV",profileArticle:"Profile_profileArticle__2Whmv",profileForm:"Profile_profileForm__2mLwb",inputs:"Profile_inputs__boQBK",submit:"Profile_submit___Et-p",inputStyle:"Profile_inputStyle__17GRI",error:"Profile_error__BPh_U",avatar:"Profile_avatar__okiib",info:"Profile_info__BE9gG"}},15:function(e,r,t){e.exports={registration:"Register_registration__mAY2U",registerSection:"Register_registerSection__PmK9a",registerArticle:"Register_registerArticle__26RrR",registerForm:"Register_registerForm__2lrXG",email:"Register_email__3L_DZ",password:"Register_password__3BRg7",submit:"Register_submit__3QlRa",inputStyle:"Register_inputStyle__POmBo",error:"Register_error__xyJ6M"}},18:function(e,r,t){e.exports={wrapper:"Error404_wrapper__3XoOe",error:"Error404_error__2qreX",home:"Error404_home__2IoEE",text:"Error404_text__2Xe4f"}},19:function(e,r,t){e.exports={input:"SuperInputText_input__1N21f",errorInput:"SuperInputText_errorInput__2Aa0j",error:"SuperInputText_error__3crER",superInput:"SuperInputText_superInput__20qqK"}},24:function(e,r,t){e.exports={default:"SuperButton_default__2rk-j",red:"SuperButton_red__2T61F"}},25:function(e,r,t){e.exports={label:"SuperCheckbox_label__2qv2l",spanClassName:"SuperCheckbox_spanClassName__XqaW5",checkbox:"SuperCheckbox_checkbox__2_Goo"}},26:function(e,r,t){e.exports={loadingLine:"LoadingLine_loadingLine__Jh-1D",line:"LoadingLine_line__G1XBD",loading:"LoadingLine_loading__GJ-Mb",shadow:"LoadingLine_shadow__2TZ_w"}},27:function(e,r,t){e.exports={checkMailSection:"CheckMail_checkMailSection__1t6MP",checkMailArticle:"CheckMail_checkMailArticle__15Qr2",checkMailForm:"CheckMail_checkMailForm__t1Jab"}},45:function(e,r,t){},46:function(e,r,t){},7:function(e,r,t){e.exports={loginSection:"Login_loginSection__1Lt3a",loginArticle:"Login_loginArticle__1yjlY",loginLegend:"Login_loginLegend__3j_3a",loginForm:"Login_loginForm__1QakI",usernameWrapper:"Login_usernameWrapper__15ZBA",passwordWrapper:"Login_passwordWrapper__1vPPn",username:"Login_username__16UyZ",password:"Login_password__eJ7BC",remember:"Login_remember__b-MMo",checkbox:"Login_checkbox__3uCiw",checkboxRemember:"Login_checkboxRemember__Z5-9S",submit:"Login_submit__24XFT",reset:"Login_reset__3qKuQ",error:"Login_error__xWLq6"}},73:function(e,r,t){"use strict";t.r(r);var a=t(1),n=t.n(a),c=t(22),s=t.n(c),i=(t(45),t(2)),o=(t(46),t(18)),l=t.n(o),j=t(13),u=t.p+"static/media/404.9494ad47.png",d=t(0);var p=function(){return Object(d.jsxs)("div",{className:l.a.wrapper,children:[Object(d.jsxs)("div",{className:l.a.error,children:[Object(d.jsx)("span",{children:"4"}),Object(d.jsx)("img",{className:l.a.image,src:u,alt:"404",width:"200px"}),Object(d.jsx)("span",{children:"4"})]}),Object(d.jsxs)("p",{className:l.a.text,children:["The page you are looking ",Object(d.jsx)("span",{children:"NOT FOUND!"})," So sad..."]}),Object(d.jsx)(j.c,{to:"/",className:l.a.home,children:"Return Home"})]})},b=t(4),O=t(5),h=t(3),m=t(17),_=t(24),x=t.n(_),g=function(e){var r=e.red,t=e.className,a=Object(m.a)(e,["red","className"]),n="".concat(r?"".concat(x.a.red," ").concat(x.a.default):x.a.default," ").concat(t);return Object(d.jsx)("button",Object(h.a)({className:n},a))},v=t(19),f=t.n(v),R=function(e){var r=e.type,t=e.onChange,a=e.onChangeText,n=e.onKeyPress,c=e.onEnter,s=e.error,i=e.className,o=e.spanClassName,l=Object(m.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),j="".concat(f.a.error," ").concat(o||""),u="".concat(f.a.input," ").concat(s?f.a.errorInput:f.a.superInput," ").concat(i);return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",Object(h.a)({type:r,onChange:function(e){t&&t(e),a&&a(e.currentTarget.value)},onKeyPress:function(e){n&&n(e),c&&"Enter"===e.key&&c()},className:u,placeholder:"Type some text"},l)),s&&Object(d.jsx)("div",{className:j,children:s})]})},E=t(25),S=t.n(E),N=function(e){e.type;var r=e.onChange,t=e.onChangeChecked,a=e.className,n=e.spanClassName,c=e.labelClassName,s=e.children,i=Object(m.a)(e,["type","onChange","onChangeChecked","className","spanClassName","labelClassName","children"]),o="".concat(a||S.a.checkbox),l="".concat(n||S.a.spanClassName),j="".concat(c||S.a.label);return Object(d.jsxs)("label",{className:j,children:[Object(d.jsx)("input",Object(h.a)({type:"checkbox",onChange:function(e){r&&r(e),t&&t(e.currentTarget.checked)},className:o},i)),s&&Object(d.jsx)("span",{className:l,children:s})]})},P=t(10),k=t.n(P),w=t(16),C=t(14),L=t.n(C),T=L.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),y=function(e){return T.post("auth/login",Object(h.a)({},e))},I=function(e){return T.post("auth/register",e)},A=function(e){return T.put("auth/me",e)},F=function(e){return L.a.post("https://neko-back.herokuapp.com/2.0/auth/forgot",{withCredentials:!0,email:e,from:"maxim.kornienkou@gmail.com",message:'<div>password recovery link: <a href="http://localhost:3000/#/set-new-password/$token$">\n                                                    Click on this link to create a new password\n                                                    </a></div>'})},M={loading:!1,error:null},G=function(e){return{type:"APP/SET_LOADING_STATUS",value:e}},D={_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,isAdmin:!1,verified:!1,rememberMe:!1,error:"",token:"",created:null,updated:null},B=function(e){return{type:"PROFILE/SET-PROFILE-DATA",data:e}},q=function(e){return{type:"PROFILE/UPDATE-PROFILE-DATA",data:e}},U=function(e){return{type:"PROFILE/SET-PROFILE-ERROR",error:e}},Z=function(e){return function(){var r=Object(w.a)(k.a.mark((function r(t){var a;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(G(!0)),r.prev=1,r.next=4,A(e);case 4:a=r.sent,console.log(a.data),t(q(a.data.updatedUser)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),L.a.isAxiosError(r.t0)&&r.t0.response&&t(U(r.t0.response.data.error));case 12:return r.prev=12,t(G(!1)),r.finish(12);case 15:case"end":return r.stop()}}),r,null,[[1,9,12,15]])})));return function(e){return r.apply(this,arguments)}}()},V={isLoggedIn:!1,rememberMe:!1,error:""},W=function(e){return{type:"LOGIN/SET-ERROR",error:e}},J=t(7),K=t.n(J),X=function(){var e=Object(O.b)(),r=Object(O.c)((function(e){return e.loginPage.isLoggedIn})),t=Object(O.c)((function(e){return e.loginPage.error})),n=Object(a.useState)(""),c=Object(b.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(""),u=Object(b.a)(l,2),p=u[0],h=u[1],m=Object(a.useState)(!1),_=Object(b.a)(m,2),x=_[0],v=_[1],f=Object(a.useState)(""),E=Object(b.a)(f,2),S=E[0],P=E[1],C=Object(a.useState)(""),T=Object(b.a)(C,2),I=T[0],A=T[1],F=function(){var r;s?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(s)?p?p.length<=7?A("Invalid password"):e((r={email:s,password:p,rememberMe:x},function(){var e=Object(w.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0)),e.prev=1,e.next=4,y(r);case 4:(a=e.sent)&&t({type:"LOGIN/SET-LOGGED-IN"}),t(B(a.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),L.a.isAxiosError(e.t0)&&e.t0.response?t(W(e.t0.response.data.error)):t(W("Unknown error. Try again later"));case 12:return e.prev=12,t(G(!1)),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(r){return e.apply(this,arguments)}}())):A("Password is required!"):P("Invalid email address"):P("Email is required!")};return r?Object(d.jsx)(i.a,{to:"/profile"}):Object(d.jsxs)("section",{className:K.a.loginSection,children:[Object(d.jsxs)("article",{className:K.a.loginArticle,children:[Object(d.jsx)("h3",{children:"Login to Web App"}),Object(d.jsxs)("div",{className:K.a.loginForm,children:[Object(d.jsx)("div",{className:K.a.usernameWrapper,children:Object(d.jsx)(R,{onEnter:F,className:K.a.username,spanClassName:K.a.error,error:S,onChange:function(e){o(e.currentTarget.value),P("")},type:"text",placeholder:"Email"})}),Object(d.jsx)("div",{className:K.a.passwordWrapper,children:Object(d.jsx)(R,{onEnter:F,className:K.a.password,spanClassName:K.a.error,error:I||t,onChange:function(e){h(e.currentTarget.value),A("")},type:"password",placeholder:"Password"})}),Object(d.jsx)("div",{className:K.a.checkboxRemember,children:Object(d.jsx)(N,{className:K.a.checkbox,spanClassName:K.a.remember,onChangeChecked:v,children:"Remember me on this computer"})}),Object(d.jsx)(g,{onClick:F,className:K.a.submit,children:"Login"})]})]}),Object(d.jsxs)("div",{className:K.a.reset,children:["Forgot your password? ",Object(d.jsx)(j.b,{to:"/pass_recovery",children:"Click here"})," to reset it or you can register ",Object(d.jsx)(j.b,{to:"/registration",children:"here."})]})]})},Q={errorRegister:null,isRegistered:!1},Y=function(e){return{type:"REGISTER/SET_ERROR",errorRegister:e}},$=t(15),z=t.n($),H=function(){var e=Object(O.b)(),r=Object(O.c)((function(e){return e.registerPage.isRegistered})),t=Object(O.c)((function(e){return e.registerPage.errorRegister})),n=Object(a.useState)(""),c=Object(b.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(""),j=Object(b.a)(l,2),u=j[0],p=j[1],h=Object(a.useState)(""),m=Object(b.a)(h,2),_=m[0],x=m[1];return r?Object(d.jsx)(i.a,{to:"/login"}):Object(d.jsx)("div",{className:z.a.registration,children:Object(d.jsxs)("section",{className:z.a.registerSection,children:[Object(d.jsxs)("article",{className:z.a.registerArticle,children:[Object(d.jsx)("h3",{children:"Registration"}),Object(d.jsxs)("div",{className:z.a.registerForm,children:[Object(d.jsx)("div",{children:Object(d.jsx)(R,{className:z.a.email,name:"email",type:"text",value:s,onChangeText:o,placeholder:"Email"})}),Object(d.jsx)("div",{children:Object(d.jsx)(R,{className:z.a.password,name:"password",type:"password",value:u,onChangeText:p,placeholder:"Password"})}),Object(d.jsx)("div",{children:Object(d.jsx)(R,{className:z.a.password,name:"passwordControl",type:"password",value:_,onChangeText:x,placeholder:"Password"})}),Object(d.jsx)("div",{children:Object(d.jsx)(g,{className:z.a.submit,onClick:function(){var r;s&&u?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(s)?u.length<=7?e(Y("Invalid password")):e(u!==_?Y("Passwords must match"):(r={email:s,password:u},function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(G(!0)),e.prev=1,e.next=4,I(r);case 4:"Created"===e.sent.statusText&&t({type:"REGISTER/SET_REGISTER",value:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),L.a.isAxiosError(e.t0)&&e.t0.response&&(e.t0.response.data.isEmailValid&&!e.t0.response.data.isPassValid?t(Y(e.t0.response.data.passwordRegExp)):t(Y(e.t0.response.data.error)));case 11:return e.prev=11,t(G(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(r){return e.apply(this,arguments)}}())):e(Y("Invalid email address")):e(Y("Email and password is required!"))},children:"Sign in"})})]})]}),t&&Object(d.jsx)("div",{className:z.a.error,children:t})]})})},ee=t(11),re=t.n(ee),te=function(){Object(i.h)().token;var e=Object(a.useState)(""),r=Object(b.a)(e,2),t=r[0],n=r[1];return Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:re.a.passRecoverSection,children:Object(d.jsxs)("article",{className:re.a.passRecoverArticle,children:[Object(d.jsx)("h3",{children:"Password Recovery"}),Object(d.jsxs)("div",{className:re.a.passRecoverForm,children:[Object(d.jsx)("div",{children:Object(d.jsx)(R,{className:re.a.email,name:"email",type:"text",value:t,onChange:function(e){n(e.currentTarget.value)},placeholder:"Email"})}),Object(d.jsx)("div",{children:Object(d.jsx)(g,{className:re.a.sendInstructions,children:"Send instructions"})})]})]})})})},ae={mailSent:!1,error:""},ne=function(e){return{type:"PASS_RECOVER/SET-ERROR-RESPONSE",error:e}},ce=t(26),se=t.n(ce),ie=function(){return Object(d.jsx)("div",{className:se.a.loadingLine,children:Object(d.jsx)("div",{className:se.a.line,children:Object(d.jsx)("div",{className:se.a.shadow})})})},oe=function(){var e=Object(a.useState)(""),r=Object(b.a)(e,2),t=r[0],n=r[1],c=Object(i.g)(),s=Object(O.c)((function(e){return e.app.loading})),o=Object(O.c)((function(e){return e.recoverPassPage})),l=Object(O.b)();return o.mailSent&&c("/check-email"),Object(d.jsxs)("div",{children:[s&&Object(d.jsx)(ie,{}),Object(d.jsx)("section",{className:re.a.passRecoverSection,children:Object(d.jsxs)("article",{className:re.a.passRecoverArticle,children:[Object(d.jsx)("h3",{children:"Password Recovery"}),Object(d.jsxs)("div",{className:re.a.passRecoverForm,children:[Object(d.jsx)("div",{children:Object(d.jsx)(R,{className:re.a.email,name:"email",type:"text",value:t,onChange:function(e){n(e.currentTarget.value),l(ne(""))},placeholder:"Email",error:o.error})}),Object(d.jsx)("div",{children:Object(d.jsx)(g,{className:re.a.sendInstructions,onClick:function(){var e;l((e=t,function(){var r=Object(w.a)(k.a.mark((function r(t){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(G(!0)),r.prev=1,r.next=4,F(e);case 4:r.sent&&t({type:"PASS_RECOVER/SET-MAIL-SENT",value:!0}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),L.a.isAxiosError(r.t0)&&r.t0.response&&t(ne(r.t0.response.data.error));case 11:return r.prev=11,t(G(!1)),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})));return function(e){return r.apply(this,arguments)}}()))},disabled:s,children:"Send instructions"})})]})]})})]})},le=t(12),je=t.n(le),ue=function(){var e=Object(O.b)(),r=Object(O.c)((function(e){return e.profilePage.name})),t=Object(O.c)((function(e){return e.profilePage.avatar})),n=Object(O.c)((function(e){return e.profilePage.email})),c=Object(O.c)((function(e){return e.profilePage.error})),s=(Object(O.c)((function(e){return e.loginPage.isLoggedIn})),Object(a.useState)("")),i=Object(b.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(""),u=Object(b.a)(j,2),p=u[0],h=u[1];return Object(d.jsx)("div",{className:je.a.profile,children:Object(d.jsxs)("section",{className:je.a.profileSection,children:[Object(d.jsxs)("article",{className:je.a.profileArticle,children:[Object(d.jsx)("h3",{children:"Your profile"}),Object(d.jsxs)("div",{className:je.a.profileForm,children:[Object(d.jsx)("div",{className:je.a.avatar,children:Object(d.jsx)("img",{src:t,alt:"avatar"})}),Object(d.jsxs)("div",{className:je.a.info,children:["Your name: ",r]}),Object(d.jsxs)("div",{className:je.a.info,children:["Your email: ",n]}),Object(d.jsx)("div",{children:Object(d.jsx)(R,{type:"text",className:je.a.inputs,placeholder:"Input new name",value:o,onChangeText:l})}),Object(d.jsx)("div",{children:Object(d.jsx)(R,{type:"text",className:je.a.inputs,placeholder:"Input avatar link",value:p,onChangeText:h})}),Object(d.jsx)("div",{children:Object(d.jsx)(g,{className:je.a.submit,onClick:function(){o?(e(Z({name:o})),l("")):p?(e(Z({avatar:p})),h("")):e(U("Name and avatar required!"))},children:"Change"})})]})]}),c&&Object(d.jsx)("div",{className:je.a.error,children:c})]})})},de=t(27),pe=t.n(de),be=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("section",{className:pe.a.checkMailSection,children:Object(d.jsxs)("article",{className:pe.a.checkMailArticle,children:[Object(d.jsx)("h3",{children:"Check your email"}),Object(d.jsx)("div",{className:pe.a.checkMailForm,children:"Check mail ????"})]})})})};var Oe=function(){var e=Object(O.c)((function(e){return e.app.loading}));return Object(d.jsxs)("div",{className:"App",children:[e&&Object(d.jsx)(ie,{}),Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/",element:Object(d.jsx)(X,{})}),Object(d.jsx)(i.b,{path:"login",element:Object(d.jsx)(X,{})}),Object(d.jsx)(i.b,{path:"profile",element:Object(d.jsx)(ue,{})}),Object(d.jsx)(i.b,{path:"registration",element:Object(d.jsx)(H,{})}),Object(d.jsx)(i.b,{path:"check-email",element:Object(d.jsx)(be,{})}),Object(d.jsx)(i.b,{path:"set-new-password/:token",element:Object(d.jsx)(te,{})}),Object(d.jsx)(i.b,{path:"pass_recovery",element:Object(d.jsx)(oe,{})}),Object(d.jsx)(i.b,{path:"404",element:Object(d.jsx)(p,{})}),Object(d.jsx)(i.b,{path:"*",element:Object(d.jsx)(i.a,{to:"404"})})]})]})},he=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,74)).then((function(r){var t=r.getCLS,a=r.getFID,n=r.getFCP,c=r.getLCP,s=r.getTTFB;t(e),a(e),n(e),c(e),s(e)}))},me=t(28),_e={},xe=t(40),ge=Object(me.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"APP/SET_LOADING_STATUS":return Object(h.a)(Object(h.a)({},e),{},{loading:r.value});case"APP/SET-ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:r.error});default:return e}},loginPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"LOGIN/SET-ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:r.error});case"LOGIN/SET-LOGGED-IN":return Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:!0});default:return e}},newPassPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,r=arguments.length>1?arguments[1]:void 0;return r.type,e},recoverPassPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"PASS_RECOVER/SET-MAIL-SENT":return Object(h.a)(Object(h.a)({},e),{},{mailSent:r.value});case"PASS_RECOVER/SET-ERROR-RESPONSE":return Object(h.a)(Object(h.a)({},e),{},{error:r.error});default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"PROFILE/SET-PROFILE-DATA":return Object(h.a)(Object(h.a)({},e),r.data);case"PROFILE/UPDATE-PROFILE-DATA":return Object(h.a)(Object(h.a)({},e),{},{name:r.data.name,avatar:r.data.avatar});case"PROFILE/SET-PROFILE-ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:r.error});default:return e}},registerPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"REGISTER/SET_REGISTER":return Object(h.a)(Object(h.a)({},e),{},{isRegistered:r.value});case"REGISTER/SET_ERROR":return Object(h.a)(Object(h.a)({},e),{},{errorRegister:r.errorRegister});default:return e}}}),ve=Object(me.c)(ge,Object(me.a)(xe.a));s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(j.a,{children:Object(d.jsx)(O.a,{store:ve,children:Object(d.jsx)(Oe,{})})})}),document.getElementById("root")),he()}},[[73,1,2]]]);
//# sourceMappingURL=main.be3408b0.chunk.js.map