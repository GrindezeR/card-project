{"version":3,"sources":["ui/pages/Login/Login.module.css","ui/pages/Pack/Packs.module.css","common/components/Paginator/Paginator.module.css","common/styles/commonStyles.module.css","ui/pages/404/Error404.module.css","ui/pages/Profile/Profile.module.css","common/components/SuperInputText/SuperInputText.module.css","common/components/Sort/Sort.module.css","ui/pages/Card/Cards.module.css","common/components/SuperButton/SuperButton.module.css","common/components/SuperCheckbox/SuperCheckbox.module.css","ui/pages/PassRecover/PassRecover.module.css","common/components/LoadingLine/LoadingLine.module.css","ui/pages/Register/Register.module.css","ui/pages/NewPass/NewPass.module.css","ui/pages/CheckEmail/CheckMail.module.css","common/components/Search/Search.module.css","ui/pages/404/404.png","ui/pages/404/Error404.tsx","common/components/SuperButton/SuperButton.tsx","common/components/SuperInputText/SuperInputText.tsx","common/components/SuperCheckbox/SuperCheckbox.tsx","dal/api/api.ts","common/mail/Mail.ts","bll/profileReducer.ts","bll/appReducer.ts","bll/loginReducer.ts","ui/pages/Login/Login.tsx","bll/registerReducer.ts","ui/pages/Register/Registration.tsx","bll/newPassReducer.ts","ui/pages/NewPass/NewPass.tsx","bll/passRecoverReducer.ts","ui/pages/PassRecover/PassRecover.tsx","common/images/noAvatar.png","ui/pages/Profile/Profile.tsx","common/components/LoadingLine/LoadingLine.tsx","common/images/checkMail.png","ui/pages/CheckEmail/CheckEmail.tsx","bll/packReducer.ts","common/components/Paginator/Paginator.tsx","common/components/Search/Search.tsx","common/components/Sort/Sort.tsx","ui/pages/Pack/Packs.tsx","bll/cardReducer.ts","ui/pages/Card/Cards.tsx","ui/App/App.tsx","reportWebVitals.ts","bll/store.ts","index.tsx"],"names":["module","exports","Error404","className","commonStyles","wrapper","section","s","error","image","src","alt","width","text","to","home","SuperButton","red","restProps","finalClassName","default","SuperInputText","type","onChange","onChangeText","onKeyPress","onEnter","spanClassName","finalSpanClassName","finalInputClassName","input","errorInput","superInput","e","currentTarget","value","key","placeholder","SuperCheckbox","onChangeChecked","labelClassName","children","checkbox","finalLabelClassName","label","checked","instance","axios","create","baseURL","withCredentials","api","data","post","put","delete","passRecoverMail","email","from","message","newPassword","token","password","resetPasswordToken","get","params","name","cardsPack","packId","id","_id","initialState","avatar","publicCardPacksCount","isAdmin","verified","rememberMe","created","updated","setProfileData","updateProfileData","setProfileError","updateProfile","dispatch","a","setAppLoading","response","updatedUser","isAxiosError","loading","initialized","isLoggedIn","setLoginError","setLoggedIn","Login","useDispatch","useSelector","state","loginPage","useState","setEmail","setPassword","setRememberMe","emailError","setEmailError","passwordError","setPasswordError","submitHandler","test","length","article","form","styles","errorEmail","errorPassword","checkboxRemember","remember","onClick","button","reset","errorRegister","isRegistered","setRegisterError","Registration","registerPage","passwordCheck","setPasswordCheck","onSubmit","statusText","isEmailValid","isPassValid","passwordRegExp","btnWrapper","setNewPassword","errorResponse","NewPass","status","app","setNewPassState","newPassPage","useParams","confirmPassword","setConfirmPassword","info","createNewPassword","event","disabled","mailSent","PassRecover","recoverPassState","recoverPassPage","recoverPassMail","setRecoverPassMail","Profile","profileName","profilePage","profileAvatar","profileEmail","setName","setAvatar","editName","setEditName","onSubmitName","trim","onSubmitAvatar","noAvatar","onBlur","onFocus","select","autoFocus","onDoubleClick","LoadingLine","loadingLine","line","shadow","CheckEmail","checkMail","cardPacks","cardPacksTotalCount","maxCardsCount","minCardsCount","page","pageCount","user_id","setPacksData","setPacksError","setPacksSortData","sort","sortType","getPacks","searchParams","getState","packPage","packName","Paginator","totalCount","pageSize","currentPage","onChangedPage","pageCounts","Math","ceil","pages","startPage","pageLimit","endPage","i","push","pageList","map","n","pagesWrapper","Search","searchFunction","isLoading","search","setSearch","searchSubmit","searchWrapper","Sort","sortHandlerUp","sortHandlerDown","title","updatedBtnWrapper","updatedBtn","Packs","userId","useEffect","deletePackHandler","deletePack","updatePackHandler","updatePack","random","toFixed","packsList","p","cardsCount","labelSelectPageCounts","table","cellPadding","myPacksButtonsWrapper","backBtn","cards","cardsTotalCount","maxGrade","minGrade","packUserId","setCardsData","getCards","cardPage","Cards","cardsPack_id","pack_id","cardList","c","onClickDeleteCard","cardId","onClickUpdatePack","card","question","answer","grade","cardQuestion","App","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","b","nameOne","toLocaleLowerCase","nameTwo","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1515d20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"remember\":\"Login_remember__b-MMo\",\"checkbox\":\"Login_checkbox__3uCiw\",\"checkboxRemember\":\"Login_checkboxRemember__Z5-9S\",\"button\":\"Login_button__1D3Lk\",\"reset\":\"Login_reset__3qKuQ\",\"errorEmail\":\"Login_errorEmail__2Reup\",\"errorPassword\":\"Login_errorPassword__PQ1RT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Packs_section__OlD3J\",\"article\":\"Packs_article__1GUma\",\"table\":\"Packs_table__3OaTf\",\"myPacksButtonsWrapper\":\"Packs_myPacksButtonsWrapper__2NX0q\",\"backBtn\":\"Packs_backBtn__3VwIK\",\"error\":\"Packs_error__1iiSl\",\"labelSelectPageCounts\":\"Packs_labelSelectPageCounts__2GNnZ\",\"select\":\"Packs_select__1puY0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagesWrapper\":\"Paginator_pagesWrapper__E0d1A\",\"pageList\":\"Paginator_pageList__1BzHp\",\"currentPage\":\"Paginator_currentPage__1sjq8\",\"page\":\"Paginator_page__3nDta\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"commonStyles_wrapper__3ZWyx\",\"section\":\"commonStyles_section__3qJ5j\",\"article\":\"commonStyles_article__3mEMT\",\"form\":\"commonStyles_form__Axs3w\",\"input\":\"commonStyles_input__1CBtn\",\"button\":\"commonStyles_button__1L9l9\",\"error\":\"commonStyles_error__2lFaq\",\"disabled\":\"commonStyles_disabled__24hNF\",\"table\":\"commonStyles_table__a5d14\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Error404_section__16GgK\",\"error\":\"Error404_error__2qreX\",\"home\":\"Error404_home__2IoEE\",\"text\":\"Error404_text__2Xe4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Profile_error__BPh_U\",\"avatar\":\"Profile_avatar__okiib\",\"info\":\"Profile_info__BE9gG\",\"btnWrapper\":\"Profile_btnWrapper__1jCN7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SuperInputText_input__1N21f\",\"errorInput\":\"SuperInputText_errorInput__2Aa0j\",\"error\":\"SuperInputText_error__3crER\",\"superInput\":\"SuperInputText_superInput__20qqK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"updated\":\"Sort_updated__1GSZY\",\"updatedBtnWrapper\":\"Sort_updatedBtnWrapper__3bWZl\",\"updatedBtn\":\"Sort_updatedBtn__3zske\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Cards_section__3_K2z\",\"article\":\"Cards_article__2iF-y\",\"error\":\"Cards_error__3-b-x\",\"backBtn\":\"Cards_backBtn__N5kOl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"SuperButton_default__2rk-j\",\"red\":\"SuperButton_red__2T61F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"SuperCheckbox_label__2qv2l\",\"spanClassName\":\"SuperCheckbox_spanClassName__XqaW5\",\"checkbox\":\"SuperCheckbox_checkbox__2_Goo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"PassRecover_button__n2Xpf\",\"disabled\":\"PassRecover_disabled__3c3pV\",\"error\":\"PassRecover_error__3V4V4\",\"btnWrapper\":\"PassRecover_btnWrapper__200hx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingLine\":\"LoadingLine_loadingLine__Jh-1D\",\"line\":\"LoadingLine_line__G1XBD\",\"loading\":\"LoadingLine_loading__GJ-Mb\",\"shadow\":\"LoadingLine_shadow__2TZ_w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Register_error__xyJ6M\",\"btnWrapper\":\"Register_btnWrapper__3Bog7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"NewPass_button__3vBlI\",\"error\":\"NewPass_error__1U76E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"CheckMail_message__vNccq\",\"image\":\"CheckMail_image__1ZFji\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchWrapper\":\"Search_searchWrapper__8WU_c\",\"search\":\"Search_search__1BCTh\"};","export default __webpack_public_path__ + \"static/media/404.9494ad47.png\";","import React from 'react'\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport s from './Error404.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport error from './404.png';\r\n\r\nfunction Error404() {\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n          <div className={`${commonStyles.section} ${s.section}`}>\r\n            <div className={s.error}>\r\n              <span>4</span>\r\n              <img className={s.image} src={error} alt=\"404\" width={'200px'}/>\r\n              <span>4</span>\r\n            </div>\r\n            <p className={s.text}>\r\n              The page you are looking <span>NOT FOUND!</span> So sad...\r\n            </p>\r\n            <NavLink to={'/'} className={s.home}>Return Home</NavLink>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error404\r\n","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport s from './SuperButton.module.css'\r\n\r\n// тип пропсов обычной кнопки, children в котором храниться название кнопки там уже описан\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n    red?: boolean\r\n}\r\n\r\nconst SuperButton: React.FC<SuperButtonPropsType> = (\r\n    {\r\n        red, className,\r\n        ...restProps// все остальные пропсы попадут в объект restProps, там же будет children\r\n    }\r\n) => {\r\n    const finalClassName = className ? className : `${red ? `${s.red} ${s.default}` : s.default} ${className}`\r\n    //${s.button} ${red ? s.red : s.default} ${className}\r\n\r\n    return (\r\n            <button\r\n                className={finalClassName}\r\n                {...restProps} // отдаём кнопке остальные пропсы если они есть (children там внутри)\r\n            />\r\n    )\r\n}\r\n\r\nexport default SuperButton\r\n","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes, KeyboardEvent} from 'react'\r\nimport s from './SuperInputText.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута\r\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\r\ntype SuperInputTextPropsType = DefaultInputPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\r\n    onChangeText?: (value: string) => void\r\n    onEnter?: () => void\r\n    error?: string\r\n    spanClassName?: string\r\n}\r\n\r\nconst SuperInputText: React.FC<SuperInputTextPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeText,\r\n        onKeyPress, onEnter,\r\n        error,\r\n        className, spanClassName,\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange // если есть пропс onChange\r\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\r\n\r\n        onChangeText && onChangeText(e.currentTarget.value)\r\n    }\r\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        onKeyPress && onKeyPress(e);\r\n\r\n        onEnter // если есть пропс onEnter\r\n        && e.key === 'Enter' // и если нажата кнопка Enter\r\n        && onEnter() // то вызвать его\r\n    }\r\n\r\n    const finalSpanClassName = spanClassName ? spanClassName : `${s.error} ${spanClassName ? spanClassName : ''}`\r\n    // const finalInputClassName = `${s.input} ${error ? s.errorInput : s.superInput} ${className}`\r\n    const finalInputClassName = className ? className : `${s.input} ${error ? s.errorInput : s.superInput} ${className}`\r\n\r\n    return (\r\n        <div>\r\n            <input\r\n                type={type}\r\n                onChange={onChangeCallback}\r\n                onKeyPress={onKeyPressCallback}\r\n                className={finalInputClassName}\r\n                placeholder={'Type some text'}\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\r\n            />\r\n\r\n            {error && <div className={finalSpanClassName}>{error}</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuperInputText\r\n","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport s from './SuperCheckbox.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n    onChangeChecked?: (checked: boolean) => void\r\n    spanClassName?: string\r\n    labelClassName?: string\r\n}\r\n\r\nconst SuperCheckbox: React.FC<SuperCheckboxPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeChecked,\r\n        className, spanClassName, labelClassName,\r\n        children, // в эту переменную попадёт текст, типизировать не нужно так как он затипизирован в React.FC\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        // сделайте так чтоб работал onChange и onChangeChecked\r\n        onChange // если есть пропс onChange\r\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\r\n\r\n        onChangeChecked && onChangeChecked(e.currentTarget.checked)\r\n    }\r\n\r\n    const finalInputClassName = `${className ? className : s.checkbox}`\r\n    const finalSpanClassName = `${spanClassName ? spanClassName : s.spanClassName}`\r\n    const finalLabelClassName = `${labelClassName ? labelClassName : s.label}`\r\n\r\n    return (\r\n        <label className={finalLabelClassName}>\r\n            <input type={'checkbox'}\r\n                   onChange={onChangeCallback}\r\n                   className={finalInputClassName}\r\n\r\n                   {...restProps} // отдаём инпуту остальные пропсы если они есть (checked например там внутри)\r\n            />\r\n            {children && <span className={finalSpanClassName}>{children}</span>}\r\n            {/*благодаря label нажатие на спан передастся в инпут*/}\r\n        </label>\r\n    )\r\n}\r\n\r\nexport default SuperCheckbox\r\n","import axios, {AxiosResponse} from \"axios\";\r\nimport {Mail} from \"../../common/mail/Mail\";\r\nimport {PackType} from \"../../bll/packReducer\";\r\n\r\nconst instance = axios.create({\r\n    // baseURL: 'http://localhost:7542/2.0/',\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0',\r\n    withCredentials: true,\r\n})\r\n\r\nexport const api = {\r\n    login(data: LoginRequestType) {\r\n        return instance.post<LoginRequestType, AxiosResponse<UserResponseType, LoginRequestType>, LoginRequestType>\r\n        (`auth/login`, data)\r\n    },\r\n    register(data: RegisterRequestType) {\r\n        return instance.post<RegisterRequestType, AxiosResponse<RegisterResponseType, RegisterRequestType>, RegisterRequestType>\r\n        (`auth/register`, data)\r\n    },\r\n    mePost() {\r\n        return instance.post<{}, AxiosResponse<UserResponseType, {}>>(`auth/me`)\r\n    },\r\n    mePut(data: MePutRequestType) {\r\n        return instance.put<MePutRequestType, AxiosResponse<MePutResponseType, MePutRequestType>, MePutRequestType>(`auth/me`, data)\r\n    },\r\n    meDelete() {\r\n        return instance.delete<{}, AxiosResponse<InfoResponseType, {}>>(`auth/me`)\r\n    },\r\n    forgotPassword(passRecoverMail: string) {\r\n        return instance.post<ForgotRequestType, AxiosResponse<InfoResponseType, ForgotRequestType>, ForgotRequestType>\r\n        (`auth/forgot`, {\r\n            email: passRecoverMail,\r\n            from: \"Cards <best@yandex.by>\",\r\n            message: Mail(),\r\n        })\r\n    },\r\n    setNewPassword(newPassword: string, token: string) {\r\n        return instance.post<SetNewPasswordRequestType, AxiosResponse<InfoResponseType, SetNewPasswordRequestType>, SetNewPasswordRequestType>\r\n        (`auth/set-new-password`, {password: newPassword, resetPasswordToken: token})\r\n    },\r\n\r\n    //Packs\r\n    getPacks(data?: GetPacksRequestType) {\r\n        return instance.get<GetPacksRequestType, AxiosResponse<GetPacksResponseType, GetPacksRequestType>, GetPacksRequestType>\r\n        (`cards/pack`, {params: data})\r\n    },\r\n    addPack(name: string) {\r\n        return instance.post<{}, AxiosResponse<{}, AddPackRequestType>, AddPackRequestType>\r\n        (`cards/pack`, {cardsPack: {name}})\r\n    },\r\n    deletePack(packId: string) {\r\n        return instance.delete<{ packId: string }>(`cards/pack`, {params: {id: packId}})\r\n    },\r\n    updatePack(packId: string, name: string) {\r\n        return instance.put<UpdatePackType>(`cards/pack`, {cardsPack: {_id: packId, name}})\r\n    },\r\n\r\n    //Cards\r\n    getCards(data: GetCardsRequestType) {\r\n        return instance.get<GetCardsRequestType, AxiosResponse<GetCardsResponseType, GetCardsRequestType>, GetCardsRequestType>\r\n        (`cards/card`, {params: data});\r\n    },\r\n    addCard(data: AddCardRequestType) {\r\n        return instance.post<{ cardsPack_id: string }, AxiosResponse<{ cardsPack_id: string }, AddCardRequestType>, AddCardRequestType>\r\n        (`cards/card`, {...data});\r\n    },\r\n    deleteCard(data: { id: string }) {\r\n        return instance.delete<{ id: string }>(`cards/card`, {params: data})\r\n    },\r\n    updateCard(data: UpdateCardRequestType) {\r\n        return instance.put<UpdateCardRequestType>(`cards/card`, {...data})\r\n    }\r\n}\r\n\r\nexport type LoginRequestType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\nexport type MeUpdateResponseType = {\r\n    updatedUser: UserResponseType,\r\n    error?: string\r\n}\r\nexport type UserResponseType = {\r\n    _id: string;\r\n    email: string;\r\n    name: string;\r\n    avatar: string;\r\n    publicCardPacksCount: number;\r\n    created: Date;\r\n    updated: Date;\r\n    isAdmin: boolean;\r\n    verified: boolean;\r\n    rememberMe: boolean;\r\n    error: string;\r\n}\r\nexport type RegisterRequestType = {\r\n    email: string\r\n    password: string\r\n}\r\nexport type RegisterResponseType = {\r\n    addedUser: UserResponseType\r\n    error?: string;\r\n}\r\nexport type MePutRequestType = {\r\n    name?: string\r\n    avatar?: string\r\n}\r\nexport type MePutResponseType = {\r\n    updatedUser: UserResponseType\r\n    error?: string\r\n}\r\nexport type ForgotRequestType = {\r\n    email: string\r\n    from: string\r\n    message: string\r\n}\r\nexport type SetNewPasswordRequestType = {\r\n    password: string\r\n    resetPasswordToken: string\r\n}\r\nexport type InfoResponseType = {\r\n    info: string\r\n    error: string\r\n}\r\n\r\n//Packs\r\nexport type GetPacksRequestType = {\r\n    packName?: string\r\n    min?: number\r\n    max?: number\r\n    sortPacks?: '0updated' | '1updated'\r\n    page?: number\r\n    pageCount?: number\r\n    user_id?: string\r\n}\r\nexport type GetPacksResponseType = {\r\n    cardPacks: PackType[]\r\n    cardPacksTotalCount: number\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type AddPackRequestType = {\r\n    cardsPack: {\r\n        name: string\r\n        grade?: number\r\n        shots?: number\r\n        rating?: number\r\n        deckCover?: string\r\n        private?: boolean\r\n        type?: string\r\n    }\r\n}\r\nexport type UpdatePackType = {\r\n    cardsPack: {\r\n        id: string\r\n        name: string\r\n    }\r\n}\r\n\r\n//Cards\r\nexport type GetCardsRequestType = {\r\n    cardsPack_id: string\r\n    cardAnswer?: string\r\n    cardQuestion?: string\r\n    min?: number\r\n    max?: number\r\n    sortCards?: '0grade' | '1grade'\r\n    page?: number\r\n    pageCount?: number\r\n}\r\nexport type GetCardsResponseType = {\r\n    cards: CardType[]\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n    packUserId: string\r\n}\r\nexport type CardType = {\r\n    cardsPack_id: string\r\n    answer: string\r\n    question: string\r\n    grade: number\r\n    shots: number\r\n    rating: number\r\n    type: string\r\n    user_id: string\r\n    created: Date | null\r\n    updated: Date | null\r\n    _id: string\r\n}\r\nexport type AddCardRequestType = {\r\n    card: {\r\n        cardsPack_id: string\r\n        answer: string\r\n        question: string\r\n        grade?: number\r\n        shots?: number\r\n        rating?: number\r\n        answerImg?: string\r\n        questionImg?: string\r\n        questionVideo?: string\r\n        answerVideo?: string\r\n        type?: string\r\n    }\r\n}\r\nexport type UpdateCardRequestType = {\r\n    card: {\r\n        _id: string\r\n        question?: string\r\n        comments?: string\r\n    }\r\n}","export const Mail = () => {\r\n    const styles = 'color: green'\r\n    //http://localhost:3000/#/set-new-password/$token$\r\n    \r\n    return `<div style=\"${styles}\">Password recovery link: <a href=\"https://grindezer.github.io/card-project/#/set-new-password/$token$\">\r\n                                                    Click on this link to create a new password\r\n                                                    </a></div>`\r\n}","import {api, UserResponseType, MePutRequestType} from \"../dal/api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport axios from \"axios\";\r\nimport {setAppLoading} from \"./appReducer\";\r\n\r\nconst initialState: ProfileInitialStateType = {\r\n    _id: '',\r\n    email: '',\r\n    name: '',\r\n    avatar: '',\r\n    publicCardPacksCount: 0,\r\n    isAdmin: false,\r\n    verified: false,\r\n    rememberMe: false,\r\n    error: '',\r\n    token: '',\r\n    created: null,\r\n    updated: null,\r\n}\r\nexport const profileReducer = (state = initialState, action: ProfileActionsType): ProfileInitialStateType => {\r\n    switch (action.type) {\r\n        case \"PROFILE/SET-PROFILE-DATA\":\r\n            return {...state, ...action.data}\r\n        case \"PROFILE/UPDATE-PROFILE-DATA\":\r\n            return {...state, name: action.data.name, avatar: action.data.avatar}\r\n        case \"PROFILE/SET-PROFILE-ERROR\":\r\n            return {...state, error: action.error}\r\n        case \"PROFILE/SET-PROFILE-DELETE-DATA\":\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setProfileData = (data: ProfileInitialStateType) => {\r\n    return {type: 'PROFILE/SET-PROFILE-DATA', data} as const\r\n}\r\nexport const updateProfileData = (data: UserResponseType) => {\r\n    return {type: 'PROFILE/UPDATE-PROFILE-DATA', data} as const\r\n}\r\nexport const setProfileError = (error: string) => {\r\n    return {type: 'PROFILE/SET-PROFILE-ERROR', error} as const\r\n}\r\nexport const setProfileDeleteData = () => {\r\n    return {type: 'PROFILE/SET-PROFILE-DELETE-DATA'} as const\r\n}\r\n\r\n\r\nexport const updateProfile = (data: MePutRequestType) => async (dispatch: Dispatch) => {\r\n    dispatch(setAppLoading(true));\r\n    try {\r\n        const response = await api.mePut(data);\r\n        dispatch(updateProfileData(response.data.updatedUser));\r\n    } catch (error) {\r\n        if (axios.isAxiosError(error) && error.response) {\r\n            dispatch(setProfileError(error.response.data.error));\r\n        }\r\n    } finally {\r\n        dispatch(setAppLoading(false));\r\n    }\r\n}\r\n\r\n\r\nexport type ProfileActionsType =\r\n    ReturnType<typeof setProfileData>\r\n    | ReturnType<typeof updateProfileData>\r\n    | ReturnType<typeof setProfileError>\r\n    | ReturnType<typeof setProfileDeleteData>\r\n\r\n\r\nexport type ProfileInitialStateType = {\r\n    _id: string\r\n    email: string\r\n    name: string\r\n    avatar: string\r\n    publicCardPacksCount: number\r\n    token?: string\r\n    created: Date | null\r\n    updated: Date | null\r\n    isAdmin: boolean\r\n    verified: boolean\r\n    rememberMe: boolean\r\n    error: string\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {api} from \"../dal/api/api\";\r\nimport {setProfileData} from \"./profileReducer\";\r\nimport {setLoggedIn} from \"./loginReducer\";\r\n\r\nconst initialState: InitialStateType = {\r\n    loading: false,\r\n    initialized: false,\r\n    error: null,\r\n}\r\n\r\nexport const appReducer = (state = initialState, action: AppActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"APP/SET_LOADING_STATUS\":\r\n            return {...state, loading: action.value}\r\n        case \"APP/SET-ERROR\":\r\n            return {...state, error: action.error}\r\n        case \"APP/SET-INITIALIZE\":\r\n            return {...state, initialized: true}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAppLoading = (value: boolean) => ({type: 'APP/SET_LOADING_STATUS', value} as const)\r\nexport const setAppError = (error: string | null) => ({type: 'APP/SET-ERROR', error} as const)\r\nexport const setAppInitialize = () => ({type: 'APP/SET-INITIALIZE'} as const)\r\n\r\nexport const initialize = () => async (dispatch: Dispatch) => {\r\n    dispatch(setAppLoading(true));\r\n    try {\r\n        const response = await api.mePost()\r\n        dispatch(setProfileData(response.data));\r\n        dispatch(setLoggedIn(true));\r\n    } catch {\r\n        dispatch(setLoggedIn(false));\r\n    } finally {\r\n        dispatch(setAppInitialize());\r\n        dispatch(setAppLoading(false));\r\n    }\r\n}\r\n\r\ntype AppActionsType = ReturnType<typeof setAppLoading>\r\n    | ReturnType<typeof setAppError>\r\n    | ReturnType<typeof setAppInitialize>\r\n\r\ntype InitialStateType = {\r\n    loading: boolean,\r\n    initialized: boolean,\r\n    error: null | string,\r\n}","import {api, LoginRequestType} from \"../dal/api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport axios from \"axios\";\r\nimport {setAppLoading} from \"./appReducer\";\r\nimport {setProfileData, setProfileDeleteData, setProfileError} from \"./profileReducer\";\r\n\r\nconst initialState: InitialStateType = {\r\n    isLoggedIn: false,\r\n    rememberMe: false,\r\n    error: '',\r\n}\r\n\r\nexport const loginReducer = (state = initialState, action: LoginActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"LOGIN/SET-ERROR\":\r\n            return {...state, error: action.error}\r\n        case \"LOGIN/SET-LOGGED-IN\":\r\n            return {...state, isLoggedIn: action.value}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setLoginError = (error: string) => ({type: 'LOGIN/SET-ERROR', error} as const)\r\nexport const setLoggedIn = (value: boolean) => ({type: 'LOGIN/SET-LOGGED-IN', value} as const)\r\n\r\nexport const logIn = (data: LoginRequestType) => async (dispatch: Dispatch) => {\r\n    dispatch(setAppLoading(true));\r\n    try {\r\n        const response = await api.login(data);\r\n        dispatch(setLoggedIn(true));\r\n        dispatch(setProfileData(response.data)); // Инфа для профиля\r\n    } catch (error) {\r\n        if (axios.isAxiosError(error) && error.response) {\r\n            dispatch(setLoginError(error.response.data.error));\r\n        } else {\r\n            dispatch(setLoginError('Unknown error. Try again later'))\r\n        }\r\n    } finally {\r\n        dispatch(setAppLoading(false));\r\n    }\r\n}\r\n\r\nexport const logOut = () => async (dispatch: Dispatch) => {\r\n    dispatch(setAppLoading(true));\r\n    try {\r\n        await api.meDelete();\r\n        dispatch(setProfileDeleteData());\r\n        dispatch(setLoggedIn(false));\r\n    } catch (error) {\r\n        if (axios.isAxiosError(error) && error.response) {\r\n            dispatch(setProfileError(error.response.data.error));\r\n        }\r\n    } finally {\r\n        dispatch(setAppLoading(false));\r\n    }\r\n}\r\n\r\ntype LoginActionsType = ReturnType<typeof setLoginError> | ReturnType<typeof setLoggedIn>\r\n\r\ntype InitialStateType = {\r\n    isLoggedIn: boolean\r\n    rememberMe: boolean\r\n    error: string\r\n}","import React, {ChangeEvent, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport SuperButton from \"../../../common/components/SuperButton/SuperButton\";\r\nimport SuperInputText from \"../../../common/components/SuperInputText/SuperInputText\";\r\nimport SuperCheckbox from \"../../../common/components/SuperCheckbox/SuperCheckbox\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\nimport {logIn, setLoginError} from \"../../../bll/loginReducer\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport styles from './Login.module.css';\r\n\r\n\r\nexport const Login = () => {\r\n    const dispatch = useDispatch();\r\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.loginPage.isLoggedIn);\r\n    const error = useSelector<AppStoreType, string>(state => state.loginPage.error);\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [rememberMe, setRememberMe] = useState(false);\r\n    const [emailError, setEmailError] = useState('')\r\n    const [passwordError, setPasswordError] = useState('')\r\n\r\n    const submitHandler = () => {\r\n        if (!email) {\r\n            setEmailError('Email is required!');\r\n        } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) {\r\n            setEmailError('Invalid email address');\r\n        } else if (!password) {\r\n            setPasswordError('Password is required!')\r\n        } else if (password.length <= 7) {\r\n            setPasswordError('Invalid password');\r\n        } else {\r\n            dispatch(logIn({email, password, rememberMe}));\r\n            dispatch(setLoginError(''));\r\n            setEmailError('');\r\n            setPasswordError('');\r\n        }\r\n    }\r\n\r\n    const onChangeEmailHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setEmail(e.currentTarget.value);\r\n        setEmailError('');\r\n    }\r\n    const onChangePasswordHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setPassword(e.currentTarget.value);\r\n        setPasswordError('');\r\n    }\r\n\r\n    if (isLoggedIn) {\r\n        return <Navigate to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={commonStyles.section}>\r\n                <article className={commonStyles.article}>\r\n                    <h3>Login to Web App</h3>\r\n                    <div className={commonStyles.form}>\r\n                        <div>\r\n                            <SuperInputText onEnter={submitHandler}\r\n                                            className={commonStyles.input}\r\n                                            spanClassName={`${commonStyles.error} ${styles.errorEmail}`}\r\n                                            error={emailError}\r\n                                            onChange={onChangeEmailHandler}\r\n                                            type=\"text\"\r\n                                            placeholder=\"Email\"/>\r\n                        </div>\r\n                        <div>\r\n                            <SuperInputText onEnter={submitHandler}\r\n                                            className={commonStyles.input}\r\n                                            spanClassName={`${commonStyles.error} ${styles.errorPassword}`}\r\n                                            error={passwordError || error}\r\n                                            onChange={onChangePasswordHandler}\r\n                                            type=\"password\"\r\n                                            placeholder=\"Password\"/>\r\n                        </div>\r\n                        <div className={styles.checkboxRemember}>\r\n                            <SuperCheckbox className={styles.checkbox}\r\n                                           spanClassName={styles.remember}\r\n                                           onChangeChecked={setRememberMe}>\r\n                                Remember me on this computer\r\n                            </SuperCheckbox>\r\n                        </div>\r\n                        <SuperButton\r\n                            onClick={submitHandler}\r\n                            className={`${commonStyles.button} ${styles.button}`}>\r\n                            Log in\r\n                        </SuperButton>\r\n                    </div>\r\n                </article>\r\n                <div className={styles.reset}>\r\n                    Forgot your password? <Link to={`/pass_recovery`}>Click here</Link> to reset it or you can\r\n                    register <Link to={'/registration'}>here.</Link>\r\n                </div>\r\n            </section>\r\n        </div>\r\n\r\n    );\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {api} from \"../dal/api/api\";\r\nimport axios from \"axios\";\r\nimport {setAppLoading} from \"./appReducer\";\r\n\r\nconst initialState: InitialStateType = {\r\n    errorRegister: null,\r\n    isRegistered: false\r\n}\r\nexport const registerReducer = (state = initialState, action: RegisterActionsType) => {\r\n    switch (action.type) {\r\n        case \"REGISTER/SET_REGISTER\":\r\n            return {...state, isRegistered: action.value}\r\n        case \"REGISTER/SET_ERROR\":\r\n            return {...state, errorRegister: action.errorRegister}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setRegister = (value: boolean) =>\r\n    ({type: 'REGISTER/SET_REGISTER', value} as const)\r\n\r\nexport const setRegisterError = (errorRegister: any) =>\r\n    ({type: 'REGISTER/SET_ERROR', errorRegister} as const)\r\n\r\nexport const register = (data: RegisterDataType) => async (dispatch: Dispatch) => {\r\n    dispatch(setAppLoading(true))\r\n    try {\r\n        const response = await api.register(data)\r\n        if (response.statusText === 'Created') {\r\n            dispatch(setRegister(true))\r\n        }\r\n    } catch (error) {\r\n        if (axios.isAxiosError(error) && error.response) {\r\n            if (error.response.data.isEmailValid && !error.response.data.isPassValid) {\r\n                dispatch(setRegisterError(error.response.data.passwordRegExp))\r\n            } else {\r\n                dispatch(setRegisterError(error.response.data.error))\r\n            }\r\n        }\r\n    } finally {\r\n        dispatch(setAppLoading(false))\r\n    }\r\n}\r\n\r\ntype SetRegisterAction = ReturnType<typeof setRegister>\r\ntype SetErrorAction = ReturnType<typeof setRegisterError>\r\ntype RegisterActionsType = SetRegisterAction | SetErrorAction\r\nexport type RegisterDataType = {\r\n    email: string\r\n    password: string\r\n}\r\ntype InitialStateType = { errorRegister: string | null, isRegistered: boolean }\r\n","import React, {useState} from \"react\";\r\nimport SuperInputText from \"../../../common/components/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../../../common/components/SuperButton/SuperButton\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {register, setRegisterError} from \"../../../bll/registerReducer\";\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport styles from \"./Register.module.css\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\n\r\nexport const Registration = () => {\r\n    const dispatch = useDispatch();\r\n    const isRegistered = useSelector<AppStoreType, boolean>(state => state.registerPage.isRegistered);\r\n    const error = useSelector<AppStoreType, string>(state => state.registerPage.errorRegister);\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [passwordCheck, setPasswordCheck] = useState('');\r\n\r\n    const onSubmit = () => {\r\n        if (!email || !password) {\r\n            dispatch(setRegisterError('Email and password is required!'));\r\n        } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) {\r\n            dispatch(setRegisterError('Invalid email address'));\r\n        } else if (password.length <= 7) {\r\n            dispatch(setRegisterError('Invalid password'));\r\n        } else if (password !== passwordCheck) {\r\n            dispatch(setRegisterError('Passwords must match'));\r\n        } else {\r\n            dispatch(register({email, password}));\r\n            dispatch(setRegisterError(''));\r\n        }\r\n    }\r\n\r\n    if (isRegistered) {\r\n        return <Navigate to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={commonStyles.section}>\r\n                <article className={commonStyles.article}>\r\n                    <h3>Registration</h3>\r\n                    <div className={commonStyles.form}>\r\n                        <div>\r\n                            <SuperInputText\r\n                                onEnter={onSubmit}\r\n                                className={commonStyles.input}\r\n                                name={'email'}\r\n                                type={'text'}\r\n                                value={email}\r\n                                onChangeText={setEmail}\r\n                                placeholder={'Email'}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <SuperInputText\r\n                                onEnter={onSubmit}\r\n                                className={commonStyles.input}\r\n                                name={'password'}\r\n                                type={'password'}\r\n                                value={password}\r\n                                onChangeText={setPassword}\r\n                                placeholder={'Password'}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <SuperInputText\r\n                                onEnter={onSubmit}\r\n                                className={commonStyles.input}\r\n                                name={'passwordControl'}\r\n                                type={'password'}\r\n                                value={passwordCheck}\r\n                                onChangeText={setPasswordCheck}\r\n                                placeholder={'Password'}\r\n                            />\r\n                        </div>\r\n                        <div className={styles.btnWrapper}>\r\n                            <Link to={'/login'}>\r\n                                <SuperButton className={commonStyles.button}>\r\n                                    Back\r\n                                </SuperButton>\r\n                            </Link>\r\n                            <SuperButton\r\n                                className={commonStyles.button}\r\n                                onClick={onSubmit}>\r\n                                Registration\r\n                            </SuperButton>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n                {error && <div className={styles.error}>{error}</div>}\r\n            </section>\r\n        </div>\r\n    );\r\n}","import { Dispatch } from \"redux\"\r\nimport {setAppLoading} from \"./appReducer\";\r\nimport {api} from \"../dal/api/api\";\r\nimport axios from \"axios\";\r\n\r\nexport type NewPassInitialStateType = {\r\n    setNewPassword: string,\r\n    error: string,\r\n}\r\n\r\nconst initialState: NewPassInitialStateType = {\r\n    setNewPassword: \"\",\r\n    error: \"\",\r\n}\r\n\r\nexport const newPassReducer = (state = initialState,\r\n                               action: NewPassActionsType): NewPassInitialStateType => {\r\n    switch (action.type) {\r\n        case \"NEW_PASS/SET-NEW-PASSWORD\":\r\n            return {...state, setNewPassword: action.info}\r\n        case \"NEW_PASS/SET-ERROR-RESPONSE\":\r\n            return {...state, error: action.error}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport type NewPassActionsType =\r\n    ReturnType<typeof setNewPass>\r\n    | ReturnType<typeof errorResponse>\r\n\r\nexport const setNewPass = (info: string) => ({type: \"NEW_PASS/SET-NEW-PASSWORD\", info} as const);\r\nexport const errorResponse = (error: string) => ({type: \"NEW_PASS/SET-ERROR-RESPONSE\", error} as const);\r\n\r\nexport const createNewPassword = (newPassword: string, token: string) => async (dispatch: Dispatch) => {\r\n\r\n    dispatch(setAppLoading(true));\r\n\r\n    try {\r\n        const response = await api.setNewPassword(newPassword, token);\r\n        dispatch(setNewPass(response.data.info));\r\n    }\r\n    catch (error) {\r\n        if (axios.isAxiosError(error) && error.response) {\r\n            dispatch(errorResponse(error.response.data.error));\r\n        }\r\n    }\r\n    finally {\r\n        dispatch(setAppLoading(false));\r\n    }\r\n}","import React, {ChangeEvent, useState} from \"react\";\r\nimport {Navigate, useParams} from \"react-router-dom\";\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport styles from \"./NewPass.module.css\"\r\nimport SuperInputText from \"../../../common/components/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../../../common/components/SuperButton/SuperButton\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {createNewPassword, errorResponse, NewPassInitialStateType} from \"../../../bll/newPassReducer\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\n\r\nexport const NewPass = () => {\r\n    const status = useSelector<AppStoreType, boolean>(state => state.app.loading);\r\n    const setNewPassState = useSelector<AppStoreType, NewPassInitialStateType>(state => state.newPassPage);\r\n    const dispatch = useDispatch();\r\n\r\n    const {token} = useParams();\r\n\r\n    const [newPassword, setNewPassword] = useState<string>(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState<string>(\"\");\r\n\r\n    const onChangeNewPassword = (event: ChangeEvent<HTMLInputElement>) => {\r\n        setNewPassword(event.currentTarget.value);\r\n        dispatch(errorResponse(\"\"));\r\n    }\r\n\r\n    const onChangeCheckPassword = (event: ChangeEvent<HTMLInputElement>) => {\r\n        setConfirmPassword(event.currentTarget.value);\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (!newPassword || !confirmPassword) {\r\n            dispatch(errorResponse('Password is required!'))\r\n        } else if (newPassword !== confirmPassword) {\r\n            dispatch(errorResponse('Passwords should be equal!'))\r\n        } else if (newPassword.length <= 7) {\r\n            dispatch(errorResponse('Invalid password'))\r\n        } else {\r\n            dispatch(createNewPassword(newPassword, token as string));\r\n            dispatch(errorResponse(''))\r\n        }\r\n    }\r\n\r\n    if (setNewPassState.setNewPassword) {\r\n        return <Navigate to={\"/login\"}/>;\r\n    }\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={commonStyles.section}>\r\n                <article className={commonStyles.article}>\r\n                    <h3>Create new password</h3>\r\n                    <div className={commonStyles.form}>\r\n                        <div>\r\n                            <SuperInputText\r\n                                onEnter={onSubmit}\r\n                                className={commonStyles.input}\r\n                                name={'new password'}\r\n                                type={'password'}\r\n                                value={newPassword}\r\n                                onChange={onChangeNewPassword}\r\n                                placeholder={'New password'}/>\r\n                            <SuperInputText\r\n                                onEnter={onSubmit}\r\n                                className={commonStyles.input}\r\n                                spanClassName={`${commonStyles.error} ${styles.error}`}\r\n                                name={'confirm password'}\r\n                                type={'password'}\r\n                                value={confirmPassword}\r\n                                onChange={onChangeCheckPassword}\r\n                                placeholder={'Confirm password'}\r\n                                error={setNewPassState.error}/>\r\n                        </div>\r\n                        <div>\r\n                            <SuperButton\r\n                                className={`${commonStyles.button} ${status && commonStyles.disabled} ${styles.button} `}\r\n                                onClick={onSubmit}\r\n                                disabled={status}>\r\n                                Create password\r\n                            </SuperButton>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </section>\r\n        </div>\r\n    );\r\n}","import axios from \"axios\";\r\nimport {Dispatch} from \"redux\";\r\nimport {api} from \"../dal/api/api\";\r\nimport {setAppLoading} from \"./appReducer\";\r\n\r\nconst initialState: PassRecoverInitialStateType = {\r\n    mailSent: \"\",\r\n    error: \"\",\r\n}\r\n\r\nexport const recoverPassReducer = (state = initialState,\r\n                                   action: RecoverPassActionsType): PassRecoverInitialStateType => {\r\n    switch (action.type) {\r\n        case \"PASS_RECOVER/SET-MAIL-SENT\":\r\n            return {...state, mailSent: action.info}\r\n        case \"PASS_RECOVER/SET-ERROR-RESPONSE\":\r\n            return {...state, error: action.error}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const mailSent = (info: string) => ({type: \"PASS_RECOVER/SET-MAIL-SENT\", info} as const);\r\nexport const errorResponse = (error: string) => ({type: \"PASS_RECOVER/SET-ERROR-RESPONSE\", error} as const);\r\n\r\nexport const recoveryPass = (passRecoverMail: string) => async (dispatch: Dispatch) => {\r\n\r\n    dispatch(setAppLoading(true));\r\n\r\n    try {\r\n        const response = await api.forgotPassword(passRecoverMail);\r\n        dispatch(mailSent(response.data.info));\r\n    } catch (error) {\r\n        if (axios.isAxiosError(error) && error.response) {\r\n            dispatch(errorResponse(error.response.data.error));\r\n        }\r\n    } finally {\r\n        dispatch(setAppLoading(false));\r\n    }\r\n}\r\n\r\nexport type RecoverPassActionsType = ReturnType<typeof mailSent>\r\n    | ReturnType<typeof errorResponse>\r\n\r\nexport type PassRecoverInitialStateType = {\r\n    mailSent: string,\r\n    error: string,\r\n}\r\n","import React, {ChangeEvent, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport styles from \"./PassRecover.module.css\";\r\nimport SuperInputText from \"../../../common/components/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../../../common/components/SuperButton/SuperButton\";\r\nimport {errorResponse, PassRecoverInitialStateType, recoveryPass} from \"../../../bll/passRecoverReducer\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\n\r\nexport const PassRecover = () => {\r\n    const status = useSelector<AppStoreType, boolean>(state => state.app.loading);\r\n    const recoverPassState = useSelector<AppStoreType, PassRecoverInitialStateType>(state => state.recoverPassPage);\r\n    const dispatch = useDispatch();\r\n\r\n    const [recoverPassMail, setRecoverPassMail] = useState<string>(\"\");\r\n\r\n    const onChangeEnterMail = (event: ChangeEvent<HTMLInputElement>) => {\r\n        setRecoverPassMail(event.currentTarget.value);\r\n        dispatch(errorResponse(\"\"));\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (!recoverPassMail) {\r\n            dispatch(errorResponse('Email is required!'))\r\n        } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(recoverPassMail)) {\r\n            dispatch(errorResponse('Invalid email address'));\r\n        } else {\r\n            dispatch(recoveryPass(recoverPassMail));\r\n            dispatch(errorResponse(''));\r\n        }\r\n    }\r\n\r\n    if (recoverPassState.mailSent) {\r\n        return <Navigate to={'/check-email'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={commonStyles.section}>\r\n                <article className={commonStyles.article}>\r\n                    <h3>Password Recovery</h3>\r\n                    <div className={commonStyles.form}>\r\n                        <div>\r\n                            <SuperInputText\r\n                                onEnter={onSubmit}\r\n                                className={commonStyles.input}\r\n                                spanClassName={styles.error}\r\n                                name={'email'}\r\n                                type={'text'}\r\n                                value={recoverPassMail}\r\n                                onChange={onChangeEnterMail}\r\n                                placeholder={'Email'}\r\n                                error={recoverPassState.error}\r\n                            />\r\n                        </div>\r\n                        <div className={styles.btnWrapper}>\r\n                            <Link to={'/login'}>\r\n                                <SuperButton className={commonStyles.button}>\r\n                                    Back\r\n                                </SuperButton>\r\n                            </Link>\r\n                            <SuperButton\r\n                                className={`${commonStyles.button} ${styles.button} ${status ? commonStyles.disabled : ''}`}\r\n                                onClick={onSubmit}\r\n                                disabled={status}>\r\n                                Send instructions\r\n                            </SuperButton>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </section>\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/noAvatar.6c53c0a1.png\";","import React, {ChangeEvent, useState, KeyboardEvent} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\nimport {setProfileError, updateProfile} from \"../../../bll/profileReducer\";\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport styles from \"./Profile.module.css\";\r\nimport SuperInputText from \"../../../common/components/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../../../common/components/SuperButton/SuperButton\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport {logOut} from \"../../../bll/loginReducer\";\r\nimport noAvatar from '../../../common/images/noAvatar.png';\r\n\r\nexport const Profile = () => {\r\n    const dispatch = useDispatch();\r\n    const profileName = useSelector<AppStoreType, string>(state => state.profilePage.name);\r\n    const profileAvatar = useSelector<AppStoreType, string>(state => state.profilePage.avatar);\r\n    const profileEmail = useSelector<AppStoreType, string>(state => state.profilePage.email);\r\n    const error = useSelector<AppStoreType, string>(state => state.profilePage.error);\r\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.loginPage.isLoggedIn);\r\n\r\n    const [name, setName] = useState(profileName);\r\n    const [avatar, setAvatar] = useState('')\r\n    const [editName, setEditName] = useState(false);\r\n\r\n    const onDoubleClickNameHandler = () => setEditName(true);\r\n    const onBlurNameHandler = () => {\r\n        setEditName(false);\r\n        onSubmitName();\r\n    }\r\n    const changeNameHandler = (e: ChangeEvent<HTMLInputElement>) => setName(e.currentTarget.value.trim());\r\n    const changeAvatarHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setAvatar(e.currentTarget.value.trim());\r\n        dispatch(setProfileError(''));\r\n    }\r\n    const selectAllHandler = (e: ChangeEvent<HTMLInputElement>) => e.currentTarget.select();\r\n    const onEnterHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            setEditName(false);\r\n            onSubmitName();\r\n        }\r\n    }\r\n\r\n    const onSubmitName = () => {\r\n        if (name && (name !== profileName)) {\r\n            dispatch(updateProfile({name}));\r\n        }\r\n        if (name.trim() === '') {\r\n            setName(profileName);\r\n        }\r\n    }\r\n\r\n    const onSubmitAvatar = () => {\r\n        if (avatar && (/\\.(gif|jpg|jpeg|webp|png)$/i).test(avatar)) {\r\n            dispatch(updateProfile({avatar}));\r\n            setAvatar('');\r\n        } else {\r\n            dispatch(setProfileError('Avatar link incorrect!'));\r\n        }\r\n    }\r\n\r\n    const onLogout = () => dispatch(logOut());\r\n\r\n    if (!isLoggedIn) {\r\n        return <Navigate to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={commonStyles.section}>\r\n                <article className={commonStyles.article}>\r\n                    <h3>Your profile</h3>\r\n                    <div className={commonStyles.form}>\r\n                        <div className={styles.avatar}>\r\n                            <img src={profileAvatar ? profileAvatar : noAvatar}\r\n                                 alt=\"avatar\"/>\r\n                        </div>\r\n                        <div className={styles.info}>\r\n                            {\r\n                                editName ?\r\n                                    <input value={name} onChange={changeNameHandler} type=\"text\"\r\n                                           onBlur={onBlurNameHandler}\r\n                                           onFocus={selectAllHandler}\r\n                                           onKeyPress={onEnterHandler}\r\n                                           autoFocus\r\n                                    />\r\n                                    :\r\n                                    <span onDoubleClick={onDoubleClickNameHandler}>\r\n                                    Name: {profileName}\r\n                                </span>\r\n                            }\r\n                        </div>\r\n                        <div className={styles.info}>Email: {profileEmail}</div>\r\n                        <div>\r\n                            <SuperInputText\r\n                                onEnter={onSubmitAvatar}\r\n                                type={'text'}\r\n                                className={commonStyles.input}\r\n                                spanClassName={`${commonStyles.error} ${styles.error}`}\r\n                                placeholder={'Input avatar link'}\r\n                                value={avatar}\r\n                                onChange={changeAvatarHandler}\r\n                                error={error}\r\n                            />\r\n                        </div>\r\n                        <div className={styles.btnWrapper}>\r\n                            <SuperButton\r\n                                className={commonStyles.button}\r\n                                onClick={onSubmitAvatar}>Apply avatar\r\n                            </SuperButton>\r\n                            <Link to={'/packs'}>\r\n                                <SuperButton className={commonStyles.button}>\r\n                                    Packs\r\n                                </SuperButton>\r\n                            </Link>\r\n                            <SuperButton\r\n                                className={commonStyles.button}\r\n                                onClick={onLogout}>LogOut\r\n                            </SuperButton>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </section>\r\n        </div>\r\n\r\n    );\r\n}","import styles from './LoadingLine.module.css'\r\n\r\nexport const LoadingLine = () => {\r\n  return (\r\n    <div className={styles.loadingLine}>\r\n      {/*<h3>Loading is in progress, do not rush, be patient</h3>*/}\r\n      <div className={styles.line}>\r\n        <div className={styles.shadow}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/checkMail.8bd711f4.png\";","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\nimport checkMail from '../../../common/images/checkMail.png';\r\nimport s from './CheckMail.module.css';\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\n\r\nexport const CheckEmail = () => {\r\n    const mailSent = useSelector<AppStoreType, string>(state => state.recoverPassPage.mailSent);\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={commonStyles.section}>\r\n                <article className={commonStyles.article}>\r\n                    <h3>Check your email</h3>\r\n                    <div className={`${commonStyles.form} ${s.message}`}>\r\n                            <img className={s.image} src={checkMail} alt={'checkMail'}/>\r\n                        Password recovery instructions have been {mailSent} to your email\r\n                    </div>\r\n                </article>\r\n            </section>\r\n        </div>\r\n    );\r\n}","import {setAppLoading} from \"./appReducer\";\r\nimport axios from \"axios\";\r\nimport {api, GetPacksRequestType} from \"../dal/api/api\";\r\nimport {AppStoreType, AppThunk} from \"./store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst initialState: InitialStatePackPageType = {\r\n    cardPacks: [],\r\n    cardPacksTotalCount: 0,\r\n    maxCardsCount: 0,\r\n    minCardsCount: 0,\r\n    page: 1,\r\n    pageCount: 10,\r\n    error: '',\r\n    user_id: '',\r\n    token: '',\r\n}\r\nexport const packReducer = (state = initialState, action: PackActionsType): InitialStatePackPageType => {\r\n    switch (action.type) {\r\n        case \"PACK/SET-PACKS-DATA\":\r\n            return {...state, ...action.data}\r\n        case \"PACK/CLEAR-PACKS\":\r\n            return initialState;\r\n        case \"PACK/SET-ERROR\":\r\n            return {...state, error: action.error}\r\n        case \"PACK/SET-SORT\":\r\n            if (action.sortType === 'name') {\r\n                if (action.sort === 'up') {\r\n                    return {\r\n                        ...state, cardPacks: [...state.cardPacks.sort((a, b) => {\r\n                            let nameOne = a.name.toLocaleLowerCase();\r\n                            let nameTwo = b.name.toLocaleLowerCase();\r\n                            if (nameOne < nameTwo) return -1;\r\n                            else if (nameOne > nameTwo) return 1;\r\n                            else return 0\r\n                        })]\r\n                    }\r\n                } else {\r\n                    return {\r\n                        ...state, cardPacks: [...state.cardPacks.sort((a, b) => {\r\n                            let nameOne = a.name.toLocaleLowerCase();\r\n                            let nameTwo = b.name.toLocaleLowerCase();\r\n                            if (nameOne > nameTwo) return -1;\r\n                            else if (nameOne < nameTwo) return 1;\r\n                            else return 0;\r\n                        })]\r\n                    }\r\n                }\r\n            } else if (action.sortType === 'cardsCount') {\r\n                if (action.sort === 'up') {\r\n                    return {\r\n                        ...state, cardPacks: [...state.cardPacks.sort((a, b) => {\r\n                            let nameOne = a.cardsCount;\r\n                            let nameTwo = b.cardsCount;\r\n                            if (nameOne > nameTwo) return -1;\r\n                            else if (nameOne < nameTwo) return 1;\r\n                            else return 0;\r\n                        })]\r\n                    }\r\n                } else {\r\n                    return {\r\n                        ...state, cardPacks: [...state.cardPacks.sort((a, b) => {\r\n                            let nameOne = a.cardsCount;\r\n                            let nameTwo = b.cardsCount;\r\n                            if (nameOne < nameTwo) return -1;\r\n                            else if (nameOne > nameTwo) return 1;\r\n                            else return 0\r\n                        })]\r\n\r\n                    }\r\n                }\r\n            } else if (action.sortType === 'updated') {\r\n                if (action.sort === 'up') {\r\n                    return {\r\n                        ...state, cardPacks: [...state.cardPacks.sort((a, b) => {\r\n                            let nameOne = a.updated;\r\n                            let nameTwo = b.updated;\r\n                            if (nameOne > nameTwo) return -1;\r\n                            else if (nameOne < nameTwo) return 1;\r\n                            else return 0;\r\n                        })]\r\n                    }\r\n                } else {\r\n                    return {\r\n                        ...state, cardPacks: [...state.cardPacks.sort((a, b) => {\r\n                            let nameOne = a.updated;\r\n                            let nameTwo = b.updated;\r\n                            if (nameOne < nameTwo) return -1;\r\n                            else if (nameOne > nameTwo) return 1;\r\n                            else return 0\r\n                        })]\r\n\r\n                    }\r\n                }\r\n            }\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setPacksData = (data: GetPacksRequestType) => ({type: 'PACK/SET-PACKS-DATA', data} as const)\r\nexport const clearPacksData = () => ({type: 'PACK/CLEAR-PACKS'} as const)\r\nexport const setPacksError = (error: string) => ({type: 'PACK/SET-ERROR', error} as const)\r\nexport const setPacksSortData = (sort: 'up' | 'down', sortType: 'name' | 'cardsCount' | 'updated') =>\r\n    ({type: 'PACK/SET-SORT', sort, sortType} as const)\r\n\r\n//thunks\r\nexport const getPacks = (searchParams?: string) =>\r\n    async (dispatch: Dispatch, getState: () => AppStoreType) => {\r\n        dispatch(setAppLoading(true));\r\n        dispatch(setPacksError(''));\r\n        try {\r\n            const response = await api.getPacks({\r\n                page: getState().packPage.page,\r\n                user_id: getState().packPage.user_id,\r\n                pageCount: getState().packPage.pageCount,\r\n                packName: searchParams && searchParams,\r\n            })\r\n            dispatch(setPacksData(response.data))\r\n        } catch (error) {\r\n            if (axios.isAxiosError(error) && error.response) {\r\n                dispatch(setPacksError(error.response.data.error));\r\n            }\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\n\r\nexport const addPack = (name: string): AppThunk =>\r\n    async (dispatch) => {\r\n        dispatch(setAppLoading(true));\r\n        try {\r\n            await api.addPack(name);\r\n            dispatch(getPacks());\r\n        } catch (error) {\r\n            if (axios.isAxiosError(error) && error.response) {\r\n                dispatch(setPacksError(error.response.data.error));\r\n            } else if (axios.isAxiosError(error)) {\r\n                dispatch(setPacksError(error.message));\r\n            }\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\n\r\nexport const deletePack = (packId: string): AppThunk =>\r\n    async (dispatch) => {\r\n        dispatch(setAppLoading(true));\r\n        try {\r\n            await api.deletePack(packId);\r\n            dispatch(getPacks());\r\n        } catch (error) {\r\n            if (axios.isAxiosError(error) && error.response) {\r\n                dispatch(setPacksError(error.response.data.error));\r\n            } else if (axios.isAxiosError(error)) {\r\n                dispatch(setPacksError(error.message));\r\n            }\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\nexport const updatePack = (packId: string, name: string): AppThunk =>\r\n    async (dispatch, getState: () => AppStoreType) => {\r\n        dispatch(setAppLoading(true));\r\n        try {\r\n            await api.updatePack(packId, name);\r\n            dispatch(getPacks());\r\n        } catch (error) {\r\n            if (axios.isAxiosError(error) && error.response) {\r\n                dispatch(setPacksError(error.response.data.error));\r\n            } else if (axios.isAxiosError(error)) {\r\n                dispatch(setPacksError(error.message));\r\n            }\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\n\r\nexport type InitialStatePackPageType = {\r\n    cardPacks: PackType[]\r\n    cardPacksTotalCount: number\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n    error: string\r\n    user_id: string\r\n    token: string\r\n}\r\nexport type PackType = {\r\n    _id: string\r\n    user_id: string\r\n    user_name: string\r\n    private: boolean\r\n    name: string\r\n    path: string\r\n    grade: number\r\n    shots: number\r\n    cardsCount: number\r\n    type: string\r\n    rating: number\r\n    created: Date\r\n    updated: Date\r\n    more_id: string\r\n    __v: number\r\n}\r\ntype PackActionsType = ReturnType<typeof setPacksData>\r\n    | ReturnType<typeof clearPacksData>\r\n    | ReturnType<typeof setPacksError>\r\n    | ReturnType<typeof setPacksSortData>","import React from \"react\";\r\nimport s from './Paginator.module.css';\r\n\r\ntype PropsType = {\r\n    totalCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onChangedPage: (n: number) => void\r\n}\r\nexport const Paginator = ({totalCount, pageSize, currentPage, onChangedPage}: PropsType) => {\r\n    const pageCounts = Math.ceil(totalCount / pageSize);\r\n    const pages = [];\r\n    //start\r\n    let pageLimit = 10;\r\n    let startPage = currentPage - pageLimit / 2;\r\n    let endPage = currentPage + pageLimit / 2;\r\n\r\n    if (startPage < 1) {\r\n        startPage = 1;\r\n        endPage = pageLimit;\r\n    }\r\n    if (endPage > pageCounts) {\r\n        endPage = pageCounts;\r\n        startPage = pageCounts - pageLimit;\r\n    }\r\n    for (let i = startPage; i <= endPage; i++) {\r\n        if (i > 0) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n    //end\r\n    if (!pages.length) {\r\n        pages.push(1)\r\n    }\r\n\r\n    const pageList = pages.map(n => {\r\n        const onClickGetUsersByPage = () => onChangedPage(n);\r\n\r\n        return (\r\n            <span key={n} className={currentPage === n ? s.currentPage : s.page}\r\n                  onClick={onClickGetUsersByPage}>{n}\r\n            </span>\r\n        );\r\n    })\r\n\r\n    //Functions Buttons\r\n    const firstPageHandler = () => onChangedPage(1);\r\n    const lastPageHandler = () => onChangedPage(pageCounts);\r\n    // const nextPageHandler = () => onChangedPage(currentPage + 1);\r\n    // const previousPageHandler = () => onChangedPage(currentPage - 1);\r\n\r\n    //COMPLETE JSX\r\n    return (\r\n        <div className={s.pagesWrapper}>\r\n            <span className={s.page} onClick={firstPageHandler}>{'<<'}</span>\r\n            {/*<span className={s.page} onClick={previousPageHandler}>{'<'}</span>*/}\r\n            <div className={s.pageList}>\r\n                {pageList}\r\n            </div>\r\n            {/*<span className={s.page} onClick={nextPageHandler}>{'>'}</span>*/}\r\n            <span className={s.page} onClick={lastPageHandler}>{'>>'}</span>\r\n        </div>\r\n    );\r\n}","import React, {ChangeEvent, useState} from \"react\";\r\nimport styles from './Search.module.css';\r\nimport SuperInputText from \"../SuperInputText/SuperInputText\";\r\nimport commonStyles from \"../../styles/commonStyles.module.css\";\r\nimport SuperButton from \"../SuperButton/SuperButton\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\n\r\ntype PropsType = {\r\n    searchFunction: Function\r\n}\r\n\r\nexport const Search = ({searchFunction}: PropsType) => {\r\n    const isLoading = useSelector<AppStoreType, boolean>(state => state.app.loading);\r\n\r\n    const [search, setSearch] = useState<string>('')\r\n    const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setSearch(e.currentTarget.value.trim());\r\n    }\r\n    const searchSubmit = () => {\r\n        searchFunction(search);\r\n    }\r\n    const clearSearch = () => {\r\n        searchFunction();\r\n        setSearch('');\r\n    }\r\n\r\n    return (\r\n        <div className={styles.searchWrapper}>\r\n            <SuperInputText\r\n                onEnter={searchSubmit}\r\n                className={`${commonStyles.input} ${styles.search}`}\r\n                type={'text'}\r\n                value={search}\r\n                onChange={onChangeHandler}\r\n                placeholder={'Search'}\r\n            />\r\n            <SuperButton\r\n                disabled={isLoading}\r\n                className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                onClick={searchSubmit}>\r\n                Search\r\n            </SuperButton>\r\n            <SuperButton\r\n                disabled={isLoading}\r\n                className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                onClick={clearSearch}>\r\n                Cancel\r\n            </SuperButton>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport styles from \"./Sort.module.css\";\r\nimport commonStyles from \"../../styles/commonStyles.module.css\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\n\r\ntype PropsType = {\r\n    sortHandlerUp: () => void\r\n    sortHandlerDown: () => void\r\n    title: string\r\n}\r\n\r\nexport const Sort = ({sortHandlerUp, sortHandlerDown, title}: PropsType) => {\r\n    const isLoading = useSelector<AppStoreType, boolean>(state => state.app.loading);\r\n\r\n    return (\r\n        <div className={styles.updated}>\r\n            {title}\r\n            <div className={styles.updatedBtnWrapper}>\r\n                <button\r\n                    className={`${commonStyles.button} ${isLoading && commonStyles.disabled} ${styles.updatedBtn}`}\r\n                    onClick={sortHandlerUp}>\r\n                    &and;\r\n                </button>\r\n                <button\r\n                    className={`${commonStyles.button} ${isLoading && commonStyles.disabled} ${styles.updatedBtn}`}\r\n                    onClick={sortHandlerDown}>\r\n                    &or;\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {ChangeEvent, useEffect} from \"react\";\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport styles from \"./Packs.module.css\"\r\nimport {\r\n    addPack,\r\n    deletePack,\r\n    getPacks,\r\n    InitialStatePackPageType,\r\n    setPacksData,\r\n    setPacksError, setPacksSortData,\r\n    updatePack\r\n} from \"../../../bll/packReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\nimport {Paginator} from \"../../../common/components/Paginator/Paginator\";\r\nimport SuperButton from \"../../../common/components/SuperButton/SuperButton\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport {Search} from \"../../../common/components/Search/Search\";\r\nimport {Sort} from \"../../../common/components/Sort/Sort\";\r\n\r\nexport const Packs = () => {\r\n    const {\r\n        cardPacks,\r\n        cardPacksTotalCount,\r\n        page,\r\n        pageCount,\r\n        error,\r\n    } = useSelector<AppStoreType, InitialStatePackPageType>(state => state.packPage)\r\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.loginPage.isLoggedIn);\r\n    const userId = useSelector<AppStoreType, string>(state => state.profilePage._id);\r\n    const isLoading = useSelector<AppStoreType, boolean>(state => state.app.loading);\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(setPacksError(''));\r\n        dispatch(getPacks());\r\n    }, [dispatch])\r\n\r\n    const onChangedPage = (currentPage: number) => {\r\n        dispatch(setPacksError(''));\r\n        dispatch(setPacksData({page: currentPage}));\r\n        dispatch(getPacks());\r\n    }\r\n    const addPackHandler = () => {\r\n        dispatch(addPack(`SUPER PACK ${random}`));\r\n    }\r\n    const checkMyHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.currentTarget.checked) {\r\n            dispatch(setPacksData({user_id: userId}));\r\n            dispatch(getPacks());\r\n        } else {\r\n            dispatch(setPacksData({user_id: ''}));\r\n            dispatch(getPacks());\r\n        }\r\n    }\r\n    const deletePackHandler = (packId: string) => dispatch(deletePack(packId));\r\n    const updatePackHandler = (packId: string, name: string) => dispatch(updatePack(packId, name));\r\n    const random = Math.random().toFixed(2);\r\n    const searchHandler = (title: string) => dispatch(getPacks(title));\r\n    const sortNameHandlerUp = () => dispatch(setPacksSortData('up', 'name'));\r\n    const sortNameHandlerDown = () => dispatch(setPacksSortData('down', 'name'));\r\n    const sortCardsCountHandlerUp = () => dispatch(setPacksSortData('up', \"cardsCount\"));\r\n    const sortCardsCountHandlerDown = () => dispatch(setPacksSortData('down', \"cardsCount\"));\r\n    const sortUpdatedHandlerUp = () => dispatch(setPacksSortData('up', \"updated\"));\r\n    const sortUpdatedHandlerDown = () => dispatch(setPacksSortData('down', \"updated\"));\r\n    const onChangePageCountHandler = (e: ChangeEvent<HTMLSelectElement>) => {\r\n        dispatch(setPacksData({pageCount: +e.currentTarget.value}));\r\n        dispatch(getPacks());\r\n    }\r\n    if (!isLoggedIn) {\r\n        return <Navigate to={'/login'}/>\r\n    }\r\n\r\n    const packsList = cardPacks.map(p => {\r\n        const deletePack = () => deletePackHandler(p._id)\r\n        const updatePack = () => updatePackHandler(p._id, `NEW NAME ${random}`)\r\n\r\n        return (\r\n            <tr key={p._id}>\r\n                <td>{p.name}</td>\r\n                <td>{p.cardsCount}</td>\r\n                <td>{p.updated}</td>\r\n                <td>\r\n                    <div>\r\n                        <Link to={`/cards/${p._id}`}>\r\n                            <SuperButton\r\n                                disabled={isLoading}\r\n                                className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}>\r\n                                Cards\r\n                            </SuperButton>\r\n                        </Link>\r\n                        {\r\n                            userId === p.user_id &&\r\n                            <>\r\n                                <SuperButton\r\n                                    disabled={isLoading}\r\n                                    className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                                    onClick={deletePack}>\r\n                                    Delete\r\n                                </SuperButton>\r\n                                <SuperButton\r\n                                    disabled={isLoading}\r\n                                    className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                                    onClick={updatePack}>\r\n                                    Update\r\n                                </SuperButton>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        )\r\n    })\r\n\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={`${commonStyles.section} ${styles.section}`}>\r\n                <article className={`${commonStyles.article} ${styles.article}`}>\r\n                    <Paginator totalCount={cardPacksTotalCount}\r\n                               pageSize={pageCount}\r\n                               currentPage={page}\r\n                               onChangedPage={onChangedPage}/>\r\n                    {error && <div className={`${commonStyles.error} ${styles.error}`}>{error}</div>}\r\n                    <Search searchFunction={searchHandler}/>\r\n                    <div>\r\n                        <span className={styles.labelSelectPageCounts}>Packs number</span>\r\n                        <select className={`${commonStyles.button} ${styles.select}`}\r\n                                onChange={onChangePageCountHandler}>\r\n                            <option value={10}>10</option>\r\n                            <option value={20}>20</option>\r\n                            <option value={30}>30</option>\r\n                            <option value={40}>40</option>\r\n                            <option value={50}>50</option>\r\n                            <option value={1000}>😻</option>\r\n                        </select>\r\n                    </div>\r\n                    <table className={commonStyles.table} width={'100%'} cellPadding=\"2\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>\r\n                                <Sort sortHandlerUp={sortNameHandlerUp}\r\n                                      sortHandlerDown={sortNameHandlerDown}\r\n                                      title={'Name'}/>\r\n                            </th>\r\n                            <th>\r\n                                <Sort sortHandlerUp={sortCardsCountHandlerUp}\r\n                                      sortHandlerDown={sortCardsCountHandlerDown}\r\n                                      title={'Cards Count'}/>\r\n                            </th>\r\n                            <th>\r\n                                <Sort sortHandlerUp={sortUpdatedHandlerUp}\r\n                                      sortHandlerDown={sortUpdatedHandlerDown}\r\n                                      title={'Updated'}/>\r\n                            </th>\r\n                            <th>\r\n                                <div className={styles.myPacksButtonsWrapper}>\r\n                                    <label>\r\n                                        <input type={'checkbox'} onChange={checkMyHandler}/>\r\n                                        My packs\r\n                                    </label>\r\n                                    <SuperButton\r\n                                        disabled={isLoading}\r\n                                        className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                                        onClick={addPackHandler}>\r\n                                        Add pack\r\n                                    </SuperButton>\r\n                                </div>\r\n                            </th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {packsList}\r\n                        </tbody>\r\n                    </table>\r\n                    <Link to={'/login'}>\r\n                        <SuperButton className={`${commonStyles.button} ${styles.backBtn}`}>\r\n                            Back\r\n                        </SuperButton>\r\n                    </Link>\r\n                </article>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n","import {\r\n    AddCardRequestType,\r\n    api,\r\n    CardType,\r\n    GetCardsRequestType,\r\n    GetCardsResponseType,\r\n    UpdateCardRequestType\r\n} from \"../dal/api/api\";\r\nimport {AppStoreType, AppThunk} from \"./store\";\r\nimport {setAppLoading} from \"./appReducer\";\r\n\r\nconst initialState: InitialCardsStateType = {\r\n    cards: [],\r\n    cardsTotalCount: 0,\r\n    page: 1,\r\n    maxGrade: 0,\r\n    minGrade: 0,\r\n    packUserId: '',\r\n    pageCount: 10,\r\n    error: ''\r\n}\r\n\r\nexport const cardReducer = (state = initialState, action: CardActionTypes) => {\r\n    switch (action.type) {\r\n        case \"CARDS/SET-CARDS-DATA\":\r\n            return {...state, ...action.data}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setCardsData = (data: CardsDataType) => ({type: 'CARDS/SET-CARDS-DATA', data} as const)\r\n\r\nexport const getCards = (data: GetCardsRequestType): AppThunk =>\r\n    async (dispatch, getState: () => AppStoreType) => {\r\n        dispatch(setAppLoading(true));\r\n        try {\r\n            const response = await api.getCards({\r\n                ...data,\r\n                page: getState().cardPage.page,\r\n                pageCount: getState().cardPage.pageCount,\r\n            });\r\n            dispatch(setCardsData(response.data));\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\n\r\nexport const addCard = (data: AddCardRequestType): AppThunk =>\r\n    async (dispatch, getState: () => AppStoreType) => {\r\n        dispatch(setAppLoading(true));\r\n        try {\r\n            await api.addCard(data);\r\n            dispatch(getCards({cardsPack_id: data.card.cardsPack_id}))\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\n\r\nexport const deleteCard = (data: { id: string }): AppThunk =>\r\n    async (dispatch, getState: () => AppStoreType) => {\r\n        dispatch(setAppLoading(true));\r\n        try {\r\n            await api.deleteCard(data);\r\n            dispatch(getCards({cardsPack_id: getState().cardPage.cards[0].cardsPack_id}))\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\n\r\nexport const updateCard = (data: UpdateCardRequestType): AppThunk =>\r\n    async (dispatch, getState: () => AppStoreType) => {\r\n        dispatch(setAppLoading(true));\r\n        try {\r\n            await api.updateCard(data);\r\n            dispatch(getCards({cardsPack_id: getState().cardPage.cards[0].cardsPack_id}))\r\n        } catch (error) {\r\n\r\n        } finally {\r\n            dispatch(setAppLoading(false));\r\n        }\r\n    }\r\n\r\n\r\n//Types\r\ntype CardActionTypes = ReturnType<typeof setCardsData>\r\n\r\n\r\nexport type InitialCardsStateType = GetCardsResponseType & {\r\n    error: string\r\n}\r\n\r\ntype CardsDataType = {\r\n    cards?: CardType[]\r\n    cardsTotalCount?: number\r\n    maxGrade?: number\r\n    minGrade?: number\r\n    page?: number\r\n    pageCount?: number\r\n    packUserId?: string\r\n}","import React, {useEffect} from \"react\";\r\nimport styles from \"./Cards.module.css\";\r\nimport commonStyles from \"../../../common/styles/commonStyles.module.css\";\r\nimport {Link, Navigate, useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../../bll/store\";\r\nimport {addCard, deleteCard, getCards, InitialCardsStateType, setCardsData, updateCard} from \"../../../bll/cardReducer\";\r\nimport {Paginator} from \"../../../common/components/Paginator/Paginator\";\r\nimport SuperButton from \"../../../common/components/SuperButton/SuperButton\";\r\nimport {Search} from \"../../../common/components/Search/Search\";\r\n\r\n\r\nexport const Cards = () => {\r\n    const dispatch = useDispatch();\r\n    const {\r\n        cards,\r\n        cardsTotalCount,\r\n        page,\r\n        pageCount,\r\n        packUserId,\r\n        error,\r\n    } = useSelector<AppStoreType, InitialCardsStateType>(state => state.cardPage);\r\n    const userId = useSelector<AppStoreType, string>(state => state.profilePage._id);\r\n    const isLoggedIn = useSelector<AppStoreType, boolean>(state => state.loginPage.isLoggedIn);\r\n    const isLoading = useSelector<AppStoreType, boolean>(state => state.app.loading);\r\n    const params = useParams<'pack_id'>();\r\n\r\n    useEffect(() => {\r\n        dispatch(getCards({cardsPack_id: params.pack_id as string}));\r\n    }, [dispatch, params.pack_id])\r\n\r\n    const random = Math.random().toFixed(2);\r\n    const addCardHandler = () => {\r\n        dispatch(addCard({\r\n            card: {\r\n                question: `How are you ${random}`,\r\n                answer: `I dont know ${random}`,\r\n                cardsPack_id: params.pack_id ?? ''\r\n            }\r\n        }))\r\n    }\r\n    const onChangedPage = (currentPage: number) => {\r\n        dispatch(setCardsData({page: currentPage}));\r\n        dispatch(getCards({cardsPack_id: params.pack_id as string}));\r\n    }\r\n    const searchHandler = (title: string) => {\r\n        dispatch(getCards({\r\n            cardsPack_id: params.pack_id as string,\r\n            cardQuestion: title\r\n        }))\r\n    }\r\n    const cardList = cards.map(c => {\r\n        const deleteCardHandler = () => onClickDeleteCard(c._id)\r\n        const onClickDeleteCard = (cardId: string) => dispatch(deleteCard({id: cardId}));\r\n        const updateCardHandler = () => onClickUpdatePack(c._id)\r\n        const onClickUpdatePack = (cardId: string) => dispatch(updateCard({\r\n            card: {\r\n                _id: cardId,\r\n                question: `NEW QUESTION ${random}`\r\n            }\r\n        }));\r\n\r\n        return (\r\n            <tr key={c._id}>\r\n                <td>{c.question}</td>\r\n                <td>{c.answer}</td>\r\n                <td>{c.grade}</td>\r\n                <td>{c.updated}</td>\r\n                {userId === c.user_id &&\r\n                    <td>\r\n                        <div>\r\n                            <SuperButton\r\n                                disabled={isLoading}\r\n                                className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                                onClick={deleteCardHandler}>\r\n                                Delete\r\n                            </SuperButton>\r\n                            <SuperButton\r\n                                disabled={isLoading}\r\n                                className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                                onClick={updateCardHandler}>\r\n                                Update\r\n                            </SuperButton>\r\n\r\n                        </div>\r\n                    </td>\r\n                }\r\n            </tr>\r\n        )\r\n    })\r\n\r\n    if (!isLoggedIn) {\r\n        return <Navigate to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={commonStyles.wrapper}>\r\n            <section className={`${commonStyles.section} ${styles.section}`}>\r\n                <article className={`${commonStyles.article} ${styles.article}`}>\r\n                    <Paginator totalCount={cardsTotalCount}\r\n                               pageSize={pageCount}\r\n                               currentPage={page}\r\n                               onChangedPage={onChangedPage}/>\r\n                    {error && <div className={`${commonStyles.error} ${styles.error}`}>{error}</div>}\r\n                    <Search searchFunction={searchHandler}/>\r\n                    <table className={commonStyles.table} width={'100%'} cellPadding=\"2\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>Question</th>\r\n                            <th>Answer</th>\r\n                            <th>Grade</th>\r\n                            <th>Updated</th>\r\n                            {userId === packUserId &&\r\n                                <th>\r\n                                    <SuperButton\r\n                                        className={`${commonStyles.button} ${isLoading && commonStyles.disabled}`}\r\n                                        onClick={addCardHandler}\r\n                                        disabled={userId !== packUserId}>\r\n                                        Add card\r\n                                    </SuperButton>\r\n                                </th>\r\n                            }\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>{cardList}</tbody>\r\n                    </table>\r\n                    <Link to={'/packs'}>\r\n                        <SuperButton className={`${commonStyles.button} ${styles.backBtn}`}>\r\n                            Back\r\n                        </SuperButton>\r\n                    </Link>\r\n                </article>\r\n            </section>\r\n        </div>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport {Navigate, Route, Routes} from 'react-router-dom';\r\nimport './App.css';\r\nimport Error404 from \"../pages/404/Error404\";\r\nimport {Login} from \"../pages/Login/Login\";\r\nimport {Registration} from \"../pages/Register/Registration\";\r\nimport {NewPass} from \"../pages/NewPass/NewPass\";\r\nimport {PassRecover} from \"../pages/PassRecover/PassRecover\";\r\nimport {Profile} from \"../pages/Profile/Profile\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStoreType} from \"../../bll/store\";\r\nimport {LoadingLine} from \"../../common/components/LoadingLine/LoadingLine\";\r\nimport {CheckEmail} from \"../pages/CheckEmail/CheckEmail\";\r\nimport {initialize} from \"../../bll/appReducer\";\r\nimport {Packs} from \"../pages/Pack/Packs\";\r\nimport {Cards} from \"../pages/Card/Cards\";\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch();\r\n    const loading = useSelector<AppStoreType, boolean>((state) => state.app.loading);\r\n    const initialized = useSelector<AppStoreType, boolean>((state) => state.app.initialized);\r\n\r\n    useEffect(() => {\r\n        dispatch(initialize());\r\n    }, [dispatch])\r\n\r\n    if (!initialized) {\r\n        return <LoadingLine/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className=\"App\">\r\n                {loading && <LoadingLine/>}\r\n                <Routes>\r\n                    <Route path={'/'} element={<Login/>}/>\r\n                    <Route path={'login'} element={<Login/>}/>\r\n                    <Route path={'profile'} element={<Profile/>}/>\r\n                    <Route path={'registration'} element={<Registration/>}/>\r\n                    <Route path={'check-email'} element={<CheckEmail/>}/>\r\n                    <Route path={'set-new-password/:token'} element={<NewPass/>}/>\r\n                    <Route path={'cards/:pack_id'} element={<Cards/>}/>\r\n                    <Route path={'packs'} element={<Packs/>}/>\r\n                    <Route path={'pass_recovery'} element={<PassRecover/>}/>\r\n                    <Route path={'404'} element={<Error404/>}/>\r\n                    <Route path={'*'} element={<Navigate to={'404'}/>}/>\r\n                </Routes>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {AnyAction, applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {loginReducer} from \"./loginReducer\";\r\nimport {newPassReducer} from \"./newPassReducer\";\r\nimport {recoverPassReducer} from \"./passRecoverReducer\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {registerReducer} from \"./registerReducer\";\r\nimport {appReducer} from \"./appReducer\";\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk'\r\nimport {packReducer} from \"./packReducer\";\r\nimport {cardReducer} from \"./cardReducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    loginPage: loginReducer,\r\n    newPassPage: newPassReducer,\r\n    recoverPassPage: recoverPassReducer,\r\n    profilePage: profileReducer,\r\n    registerPage: registerReducer,\r\n    packPage: packReducer,\r\n    cardPage: cardReducer,\r\n})\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\nexport type AppStoreType = ReturnType<typeof rootReducer>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, AppStoreType, unknown, AnyAction>\r\n\r\n//@ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './ui/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./bll/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App/>\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}